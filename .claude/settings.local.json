{
  "permissions": {
    "allow": [
      "Bash(xcodebuild:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd map controls: pinch-to-zoom, center on location, and search\n\n- Add center-on-location button that requests GPS permission and\n  navigates map to user''s current position\n- Add search button with autocomplete location search using MapKit''s\n  MKLocalSearchCompleter for real-time suggestions\n- Map already supports pinch-to-zoom natively via MapKit\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(rsvg-convert:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd app icons and fix location/persistence issues\n\n- Generate 1024x1024 PNG app icons from SVG for iOS and watchOS\n- Persist last viewed map location using AppStorage so searched\n  locations become the default on next launch\n- Fix location button to properly center map after permission is\n  granted by using onChange to detect async location updates\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git commit:*)",
      "Bash(xcrun simctl:*)",
      "mcp__plugin_context7_context7__resolve-library-id",
      "WebFetch(domain:sasq.ca)",
      "Bash(git status:*)",
      "Bash(gh api:*)",
      "Bash(git show:*)",
      "Bash(gh repo view:*)",
      "Bash(git stash:*)",
      "Bash(git -C /Users/hherb/src/openhiker status)",
      "Bash(git -C /Users/hherb/src/openhiker diff)",
      "Bash(git -C /Users/hherb/src/openhiker log --oneline -5)",
      "Bash(git -C /Users/hherb/src/openhiker add:*)",
      "Bash(git -C /Users/hherb/src/openhiker commit -m \"$\\(cat <<''EOF''\nFix PR #2 review issues: duplicate state, waypoint sync UI, and missing target memberships\n\n- Remove duplicate errorMessage/@State in watchOS MapView that caused compilation error\n- Add NotificationCenter-based waypoint sync refresh so synced waypoints appear immediately\n  without requiring app restart \\(iOS RegionSelectorView + watchOS MapView\\)\n- Register 5 missing Swift files in Xcode project \\(Waypoint.swift, WaypointStore.swift,\n  AddWaypointView.swift, WaypointDetailView.swift, AddWaypointSheet.swift\\) that existed\n  on disk but had no target membership, causing build failures on both platforms\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/hherb/src/openhiker log --oneline -10)",
      "Bash(find:*)",
      "Skill(commit-commands:commit)",
      "Skill(commit-commands:commit:*)",
      "Bash(git pull:*)",
      "Bash(gh run view:*)",
      "Bash(git checkout:*)",
      "Bash(git push:*)",
      "mcp__plugin_context7_context7__query-docs",
      "Bash(identify:*)",
      "Bash(sips -g all:*)",
      "WebFetch(domain:data.maptiler.com)",
      "WebFetch(domain:www.thunderforest.com)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:operations.osmfoundation.org)",
      "WebFetch(domain:opentopomap.org)",
      "WebFetch(domain:wiki.openstreetmap.org)",
      "Bash(marked queryable\" errors with retries on every sync cycle. Also broaden the\nschema-not-ready error check to catch both missing record types and\nnon-queryable field errors gracefully \\(return empty instead of retrying\\).\n\nSuppress duplicate column SQLite log noise by checking column existence via\nPRAGMA table_info before attempting ALTER TABLE ADD COLUMN migrations.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "WebFetch(domain:www.ralfebert.com)",
      "WebFetch(domain:levelup.gitconnected.com)",
      "WebFetch(domain:medium.com)",
      "WebFetch(domain:www.toptal.com)",
      "WebFetch(domain:www.hackingwithswift.com)",
      "WebFetch(domain:www.createwithswift.com)",
      "WebFetch(domain:gist.github.com)",
      "WebFetch(domain:dev.to)",
      "WebFetch(domain:www.kodeco.com)",
      "Bash(codesign:*)",
      "Bash(/usr/libexec/ApplicationFirewall/socketfilterfw:*)",
      "Bash(grep:*)",
      "Bash(python3:*)",
      "Bash(git -C /Users/hherb/src/openhiker diff --stat)",
      "Bash(sips:*)",
      "Bash(gh issue create:*)",
      "Bash(gh label:*)",
      "Bash(gh issue list:*)",
      "Bash(gh issue view:*)",
      "Bash(git ls-tree:*)",
      "Bash(./gradlew :core:test:*)",
      "Bash(ls:*)",
      "Bash(echo:*)",
      "Bash(gradle wrapper:*)",
      "Bash(/Users/hherb/.gradle/wrapper/dists/gradle-8.13-bin/5xuhj0ry160q40clulazy9h7d/gradle-8.13/bin/gradle wrapper:*)",
      "Bash(/usr/libexec/java_home:*)",
      "Bash(java:*)",
      "Bash(export JAVA_HOME=\"/Applications/Android Studio.app/Contents/jbr/Contents/Home\")",
      "Bash(\"$JAVA_HOME/bin/java\" -version)",
      "Bash(export:*)",
      "Bash(./gradlew:*)",
      "Bash(\"$JAVA_HOME/bin/java\" -cp - <<'JAVA_EOF'\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.awt.Color;\nimport java.awt.Graphics2D;\nimport java.io.File;\n\npublic class GenIcon {\n    public static void main\\(String[] args\\) throws Exception {\n        int[][] sizes = {{48, \"mdpi\"}, null};\n        String basePath = \"/Users/hherb/src/openhiker/OpenHikerAndroid/app/src/main/res/\";\n        int[][] defs = {{48, 0}, {72, 1}, {96, 2}, {144, 3}, {192, 4}};\n        String[] names = {\"mipmap-mdpi\", \"mipmap-hdpi\", \"mipmap-xhdpi\", \"mipmap-xxhdpi\", \"mipmap-xxxhdpi\"};\n        for \\(int i = 0; i < defs.length; i++\\) {\n            int size = defs[i][0];\n            BufferedImage img = new BufferedImage\\(size, size, BufferedImage.TYPE_INT_ARGB\\);\n            Graphics2D g = img.createGraphics\\(\\);\n            g.setColor\\(new Color\\(76, 175, 80\\)\\);\n            g.fillOval\\(0, 0, size, size\\);\n            g.dispose\\(\\);\n            ImageIO.write\\(img, \"png\", new File\\(basePath + names[i] + \"/ic_launcher.png\"\\)\\);\n            ImageIO.write\\(img, \"png\", new File\\(basePath + names[i] + \"/ic_launcher_round.png\"\\)\\);\n        }\n        System.out.println\\(\"Icons created\"\\);\n    }\n}\nJAVA_EOF)",
      "Bash(\"/Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/jar\" tf /tmp/maplibre_inspect/classes.jar)",
      "Bash(\"/Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/javap\" -p -cp /tmp/maplibre_inspect/classes.jar org.maplibre.android.geometry.LatLngBounds)",
      "Bash(gh issue close:*)",
      "Bash(git -C /Users/hherb/src/openhiker commit -m \"$\\(cat <<''EOF''\nFix review issues: compilation errors, data loss, thread safety, locale\n\n- Fix 4 compilation errors: ElevationProfileChart parameter name mismatch\n  \\(points vs elevationPoints/elevationProfile\\), WaypointDetailScreen\n  missing waypointId nav argument, cancelDelete->dismissDelete in\n  HikeListScreen, deleteHike->confirmDelete in HikeDetailScreen\n- Fix critical data loss in HikeTrackingService: add try-catch to\n  saveHike\\(\\) so exceptions don''t silently discard recorded hike data;\n  only delete crash-recovery draft on successful save\n- Fix thread safety: use CopyOnWriteArrayList for trackPoints accessed\n  from Main \\(location collection\\) and IO \\(auto-save\\) dispatchers\n- Fix locale bug: use Locale.US for all GPX coordinate/elevation\n  formatting and PDF distance labels to prevent comma decimals on\n  European locales producing invalid GPX XML\n- Fix PdfDocument resource leak: move document.close\\(\\) to finally block\n  so native resources are released even on rendering exceptions\n- Fix serviceScope leak: cancel entire scope in onDestroy\\(\\) instead of\n  individual jobs\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /Users/hherb/src/openhiker push)"
    ]
  }
}
